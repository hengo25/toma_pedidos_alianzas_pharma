{% extends "base.html" %}
{% block content %}
<h2>Productos</h2>

<form method="post" action="{{ url_for('productos_nuevo') }}" class="row g-2 mb-3">
  <div class="col"><input class="form-control" name="nombre" placeholder="Nombre" required></div>
  <div class="col"><input class="form-control" name="laboratorio" placeholder="Laboratorio"></div>
  <div class="col"><input class="form-control" name="precio" placeholder="Precio" type="number" step="0.01" required></div>
  <div class="col"><input class="form-control" name="stock" placeholder="Stock" type="number" required></div>
  <div class="col-auto"><button class="btn btn-primary">Agregar</button></div>
</form>

<table class="table table-striped">
  <thead><tr><th>Nombre</th><th>Laboratorio</th><th>Precio</th><th>Stock</th><th>Acciones</th></tr></thead>
  <tbody>
    {% for p in productos %}
    <tr>
      <td>{{ p.nombre }}</td>
      <td>{{ p.laboratorio or '' }}</td>
      <td>${{ "%.2f"|format(p.precio) }}</td>
      <td>{{ p.stock }}</td>
      <td>
        <a href="{{ url_for('productos_editar', id=p.id) }}" class="btn btn-sm btn-primary">Editar</a>
        <a href="{{ url_for('productos_eliminar', id=p.id) }}" class="btn btn-sm btn-danger" onclick="return confirm('Eliminar?')">Eliminar</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<nav>
  <ul class="pagination">
    {% for pnum in range(1, pages+1) %}
      <li class="page-item {% if pnum == page %}active{% endif %}">
        <a class="page-link" href="{{ url_for('productos', page=pnum) }}">{{ pnum }}</a>
      </li>
    {% endfor %}
  </ul>
</nav>
{% endblock %}


